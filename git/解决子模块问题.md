# 解决 EEG_Emotion_Classifier_DEAP 子模块问题

## 问题说明

`Frame\src\EEG_Emotion_Classifier_DEAP` 目录之前是一个独立的 Git 仓库（从 GitHub 克隆的），因此主仓库将其识别为**子模块**。主仓库只跟踪这个目录本身，不跟踪目录里的文件，所以文件无法被提交。

## 解决方法

将子模块转换为普通目录，让主仓库跟踪里面的所有文件。

### 手动操作步骤

#### 步骤1: 删除子目录的 .git 文件夹

在文件资源管理器中：
1. 打开目录：`C:\Users\29213\Desktop\数据调研\Frame\src\EEG_Emotion_Classifier_DEAP`
2. 在顶部菜单选择"查看" -> 勾选"隐藏的项目"
3. 找到并删除 `.git` 文件夹（如果存在）

或者在 PowerShell 中执行：
```powershell
Remove-Item -Path "Frame\src\EEG_Emotion_Classifier_DEAP\.git" -Recurse -Force -ErrorAction SilentlyContinue
```

#### 步骤2: 切换到主仓库根目录

```powershell
cd "C:\Users\29213\Desktop\数据调研"
```

#### 步骤3: 移除子模块引用

```powershell
git rm --cached Frame/src/EEG_Emotion_Classifier_DEAP
```

如果提示找不到文件，可以跳过这一步。

#### 步骤4: 添加目录中的所有文件

```powershell
git add Frame/src/EEG_Emotion_Classifier_DEAP/
```

#### 步骤5: 检查状态

```powershell
git status
```

应该能看到 `Frame/src/EEG_Emotion_Classifier_DEAP/` 目录下的文件被添加了。

#### 步骤6: 提交更改

```powershell
git commit -m "添加 EEG_Emotion_Classifier_DEAP 文件到主仓库"
```

#### 步骤7: 推送

```powershell
git push origin main
```

## 完整命令（复制粘贴执行）

```powershell
# 1. 进入主仓库根目录
cd "C:\Users\29213\Desktop\数据调研"

# 2. 删除子目录的 .git 文件夹（如果存在）
Remove-Item -Path "Frame\src\EEG_Emotion_Classifier_DEAP\.git" -Recurse -Force -ErrorAction SilentlyContinue

# 3. 移除子模块引用（如果存在）
git rm --cached Frame/src/EEG_Emotion_Classifier_DEAP 2>$null

# 4. 添加所有文件
git add Frame/src/EEG_Emotion_Classifier_DEAP/

# 5. 检查状态
git status

# 6. 提交更改
git commit -m "添加 EEG_Emotion_Classifier_DEAP 文件到主仓库"

# 7. 推送到远程
git push origin main
```

## 使用脚本（如果 PowerShell 执行策略允许）

```powershell
cd git
.\add_submodule_files.ps1
```

然后手动执行：
```powershell
git commit -m "添加 EEG_Emotion_Classifier_DEAP 文件到主仓库"
git push origin main
```

## 验证

执行完成后，检查：

```powershell
# 查看跟踪的文件
git ls-files Frame/src/EEG_Emotion_Classifier_DEAP/

# 应该能看到类似这样的输出：
# Frame/src/EEG_Emotion_Classifier_DEAP/Readme.md
# Frame/src/EEG_Emotion_Classifier_DEAP/Preprocess_Deap.ipynb
# Frame/src/EEG_Emotion_Classifier_DEAP/把数据资源放入data文件夹!!.dat
```

## 注意事项

1. **删除 .git 文件夹**：这会删除子目录的 Git 历史，但不影响主仓库。
2. **大文件**：如果 `data` 文件夹中有大文件（>100MB），可能需要使用 Git LFS 或不上传这些文件。
3. **数据文件**：`.dat` 文件通常很大，考虑是否要上传到仓库。

## 如果遇到问题

- **权限问题**：以管理员身份运行 PowerShell
- **路径问题**：确保在主仓库根目录执行命令
- **文件已存在**：如果某些文件已经在仓库中，会提示已存在，这是正常的

